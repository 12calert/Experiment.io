{% extends 'base.html' %}
{% load static %}
{% block title %}Rooms{% endblock %}
{% block content %}
<div class="container">
  <div class="row">
    <!--Table for creating public or private rooms-->
    <div class="col-sm-6">
      <div class="table-responsive">
        <table class="table table-bordered" style="background-color: #f0f0f0;">
          <thead>
            <tr>
              <th>Create Room</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <form action="actionUrl" method="POST">
                  {% csrf_token %}
                  {{ form.as_p }}
                  <button class="btn btn-primary" type="submit" name="Public">Create a public room</button>
                </form>
              </td>
            </tr>
            <tr>
              <td>
                <form action="actionUrl" method="POST">
                  {% csrf_token %}
                  {{ form.as_p }}
                  <button class="btn btn-primary" type="submit" name="Private">Create a private room</button>
                </form>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!--Table for selecting a public room or entering a private room key-->
    <div class="col-sm-6">
      <div class="table-responsive">
        <table class="table table-bordered" style="background-color: #f0f0f0;">
          <thead>
            <tr>
              <th>Join Room</th>
            </tr>
          </thead>
          <tbody>
            {% if rooms %}
            <tr>
              <td>
                <form action="joinRoom" method="POST" name="">
                  {% csrf_token %}
                  <select class="form-select" name="room" onchange="this.form.submit()">
                    <option selected disabled value="">Join a public room</option>
                    {% for room in rooms %}
                    {% if room.public %}
                    <option value="{{ room.room_name }}">Room number: {{ forloop.counter }}</option>
                    {% endif %}
                    {% endfor %}
                  </select>
                </form>
              </td>
            </tr>
            {% endif %}
            <tr>
              <td>
                <form>
                  <div class="form-group">
                    <label for="unique_room_box">Private room key:</label>
                    <input type="text" class="form-control" id="unique_room_box" name="unique_room_box" placeholder="Your private room key..">
                  </div>
                  <button class="btn btn-primary" type="submit">Join a private room</button>
                </form>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% endblock content %}
